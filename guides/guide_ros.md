# Краткое описание ROS
### Основные понятия ROS
1. Ядро(Мастер, Мастер-нода) - организовывает взаимодействие между нодами, без него не возможна работа ROS. 
2. Нода - аналог программы в ROS.
3. Топик - метод связи между нодами, у топика есть издатель(Издатель отправляет сообщение в топик) и подписчик(Принимает сообщение из топика). В топике хранится последнее сообщение. Одна нода не может быть издателем и подписчиком одного топика одновременно. 
4. Сервис - метод связи между нодами, у сервиса есть сервер и клиент. Клиент делает запрос к серверу, а сервер на этот запрос отвечает. Сервер может быть только один. Одна нода не может быть сервером и клиентом одного сервиса.
5. Действие - метод связи между нодами, очень похож на сервис, однако сервер может отправлять клиенту промежуточные данные.
6. Пакет - совокупность нод, конфигураций. Аналог Linux пакет.
7. Рабочая среда - место где происходит сборка пакетов.

### Основные команды ROS
#### 1. Запуск ядра
```
roscore
```
Происходит запуск ядра, занимает весь сеанс терминала. Работает пока его не прервали нажатием ```СTRL+C```.
#### 2. Запуск нод
Если нода написана на Python
```
python3 имя_ноды.py
```

Этот метод не удобен, поскольку надо знать точное расположение ноды на диске. Так же нельзя передавать дополнительные аргументы(без использования сторонних библиотек).

Если нода входит в пакет
```
rosrun имя_пакета имя_ноды _название_аргумента:=значение_аргумента
```
:heavy_exclamation_mark: __ВАЖНО__: Ноды не работают без запущенного ядра

Пример: 
```
rosrun test_package test_node _value1:=1 _value2:=2
```

#### 3. Запуск launch файлов
launch файлы это xml файл, который запускает сценарий из нескольких нод с известными аргументами.

```
roslaunch имя_пакеты имя_файла.launch
```
или 
```
roslaunch путь_к_файлу/имя_файла.launch
```

Что бы увидеть вывод текста, припишите в конце ```--screen```
```
roslaunch ... --screen
```

Утилита roslaunch запускает не только сценарий, но и ядро ROS, если оно не запущено.

[Подробнее о launch файлах](http://wiki.ros.org/roslaunch/XML)

#### 4. Работа с топиками из консоли

Самые полезные:
* rostopic list - выводит список развернутых топиков
* rostopic echo имя_топика - выводит содержимое топика
* rostopic pub имя_топика пакет_сообщения/тип_сообщения значение - публикует значение в топик из консоли

[Подробнее о всех командах утилиты rostopic](http://wiki.ros.org/rostopic)

#### 5. Работа с сообщениями из консоли
Самые полезные:
* rosmsg list - выводит все возможные типы сообщений
* rosmsg show пакет_сообщения/имя_сообщения - выводит содержимое сообщения

* rossrv list - выводит все возможные типы сообщений сервисов
* rossrv show пакет_сервиса/имя_типа_сервиса - показывает содержимое сообщения сервиса 

[Подробнее о всех командах утилиты rosmsg и rossrv](http://wiki.ros.org/rosmsg)

#### 6. Работа с сервисами из консоли

Самые полезные:
* rosservice list - список развернутых вервисов
* rosservice call имя_сервиса значение - делает запрос к сервису
* rosservice type имя_сервиса - выдает тип сообщения сервиса

[Подробнее о всех командах утилиты rosservice](http://wiki.ros.org/rosservice)

